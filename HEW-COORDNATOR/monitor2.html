<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor HEW Activity | D-HEIRS</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/logout.css">
    <link rel="stylesheet" href="coordinator_dashboard.css">

    <!-- Page Specific CSS Tweaks -->
    <style>
        .split-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 2rem;
        }

        .selection-card {
            background: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid #f3f4f6;
            height: fit-content;
        }

        .results-card {
            background: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid #f3f4f6;
            min-height: 500px;
        }

        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: var(--text-main);
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            transition: all 0.2s;
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(15, 118, 110, 0.1);
        }

        /* Activity items style override for the injected JS content */
        .activity-item {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .activity-item:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="brand-icon">
                <img src="images/images.jpg" alt="D-HEIRS Logo">
            </div>
            <div class="brand-text">
                D-HEIRS
                <span>Coordinator Portal</span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="coordinator_dashboard.html" class="nav-item">
                <i class="fa-solid fa-grid-2"></i>
                <span>Dashboard</span>
            </a>
            <a href="monitor2.html" class="nav-item active">
                <i class="fa-solid fa-chart-line"></i>
                <span>Monitor Activity</span>
            </a>
            <a href="review.html" class="nav-item">
                <i class="fa-solid fa-file-invoice"></i>
                <span>Review Reports</span>
            </a>
            <a href="validate2.html" class="nav-item">
                <i class="fa-solid fa-check-double"></i>
                <span>Validate Data</span>
            </a>
            <a href="forward2.html" class="nav-item">
                <i class="fa-solid fa-paper-plane"></i>
                <span>Forward Data</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <a href="../index.html" class="nav-item logout">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>
                <span>Logout</span>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <header class="dashboard-header">
            <div class="header-text">
                <h1>Monitor Field Activity</h1>
                <p style="color: var(--text-muted);">Real-time tracking of Health Extension Worker performance and
                    submission status.</p>
            </div>
        </header>

        <div class="split-layout">

            <!-- Left: Controls -->
            <section class="selection-card">
                <h3 style="margin-bottom:1.5rem; color:var(--primary);"><i class="fa-solid fa-filter"></i> Select HEW
                </h3>

                <p style="font-size:0.9rem; color:var(--text-muted); margin-bottom:1.5rem;">
                    Choose a Health Extension Worker to view their specific activity logs, submission history, and
                    performance metrics.
                </p>

                <label for="hewSelect" class="form-label">Health Extension Worker</label>
                <select id="hewSelect" class="form-select" onchange="loadHewData()">
                    <option value="">-- Loading HEW List... --</option>
                </select>

                <div class="info-box"
                    style="background:#e0f2fe; padding:1rem; border-radius:8px; border:1px solid #bae6fd;">
                    <strong style="color:#0369a1; display:block; margin-bottom:0.5rem;"><i
                            class="fa-solid fa-circle-info"></i> Insight</strong>
                    <p style="font-size:0.85rem; color:#0c4a6e; margin:0;">
                        Monitoring data is aggregated from daily submission logs and household visits recorded in the
                        `health_data` table.
                    </p>
                </div>
            </section>

            <!-- Right: Results -->
            <section class="results-card">
                <h3 style="margin-bottom:1.5rem; border-bottom:1px solid #f3f4f6; padding-bottom:1rem;">
                    <i class="fa-solid fa-list-check"></i> Activity Feed
                </h3>

                <div id="activityReviewArea">
                    <div style="text-align:center; padding:3rem; color:var(--text-light);">
                        <i class="fa-solid fa-user-magnifying-glass"
                            style="font-size:3rem; margin-bottom:1rem; display:block;"></i>
                        <p>Select a worker from the left to view their details.</p>
                    </div>
                </div>
            </section>
        </div>

    </main>

    <script src="monitorCode.js"></script>
    <script src="../js/logout.js"></script>
    <script src="mobile_nav.js"></script>
</body>

</html>